[["principes-généraux-de-shiba.html", "SHIBA Chapitre 1 Principes généraux de SHIBA", " SHIBA Une application du GMRC: Groupe Méthodes en Recherche Clinique 2023-09-04 Chapitre 1 Principes généraux de SHIBA SHIBA est une application créée par le Groupe Méthodes en Recherche Clinique (GMRC) des hôpitaux universitaires de Strasbourg et les membres de l’équipe IMAGES – RaDoScauba du laboratoire iCUBE (CNRS UMR 7357). Elle est entièrement gratuite, sous licence CC-by-nc 4.0. SHIBA est une interface graphique permettant de réaliser des analyses bayésiennes via le logiciel de statistiques R et les packages de statistiques bayésiennes associés sans avoir à coder les instructions nécessaires pour obtenir ces analyses. Tout fonctionne par des glisser-déposer ou en cliquant sur les éléments dont vous avez besoin. L’utilisation de SHIBA implique cependant de connaître un minimum de notions sur les probabilités et sur ce que sont les méthodes bayésiennes. La présente page d’aide est là pour vous apporter les connaissances nécessaires pour utiliser correctement l’outil. Cet outil est proposé sans aucune garantie de validité sur les résultats. Si vous utilisez cet outil pour traiter des données médicales et a fortiori relevant de la recherche médicale, vous devez le faire dans le respect de la réglementation en vigueur. Les concepteurs de cet outil ne sont pas responsables de ce que vous en faites. Citation L’équipe vous remercie de bien vouloir la citer dans votre bibliographie lorsque vous aurez utilisé SHIBA pour vos travaux scientifiques. La référence est la suivante : Fabacher et toute sa bande de potes, SHIBA, un logiciel qui a du chien. Journal de statistique canine bayésienne. 2023;1(1):1-200. Cet outil est mis à votre disposition sous licence CC BY-NC 4.0, c’est-à-dire : Pas d’Utilisation Commerciale 4.0 International. Vous êtes autorisé à : Partager — copier, distribuer et communiquer le matériel par tous moyens et sous tous formats Adapter — remixer, transformer et créer à partir du matériel L’Offrant ne peut retirer les autorisations concédées par la licence tant que vous appliquez les termes de cette licence. selon les conditions suivantes : Attribution — Vous devez créditer l’Œuvre, intégrer un lien vers la licence et indiquer si des modifications ont été effectuées à l’Œuvre Vous devez indiquer ces informations par tous les moyens raisonnables, sans toutefois suggérer que l’Offrant vous soutient ou soutient la façon dont vous avez utilisé son Oeuvre. Pas d’Utilisation Commerciale — Vous n’êtes pas autorisé à faire un usage commercial de cette Œuvre, tout ou partie du matériel la composant. Pas de restrictions complémentaires — Vous n’êtes pas autorisé à appliquer des conditions légales ou des mesures techniques qui restreindraient légalement autrui à utiliser l’Œuvre dans les conditions décrites par la licence. "],["fonctionnement-général-de-shiba.html", "Chapitre 2 Fonctionnement général de SHIBA 2.1 Vocabulaire de base 2.2 Les différents types de variables", " Chapitre 2 Fonctionnement général de SHIBA SHIBA dispose de plusieurs onglets. Le premier onglet est consacré à l’importation et à la lecture de la base de données. Une base de données saisie dans un tableau sous la forme d’un tableur avec comme extension : .xlsx, .ods, .txt ou .csv) devra être chargée à l’aide de ce premier onglet. Une fois la base de données ouverte dans SHIBA, vous pourrez choisir l’onglet correspondant aux analyses à réaliser. 2.1 Vocabulaire de base La réalisation d’analyse statistique dans SHIBA suppose de connaître quelques éléments de vocabulaire statistique. Paramètre : tout ce qui peut quantifier un effet et que l’on peut exprimer sous forme numérique : une proportion, une moyenne, un taux d’incidence, une différence de proportions ou de moyennes, un coefficient de corrélation, un odds ratio (OR), un risque relatif (RR), la pente d’une droite de régression, etc. Population : une population est un ensemble exhaustif d’individus statistiques sur lequel on souhaite estimer la valeur d’un paramètre. En pratique, on ne connait jamais la valeur exacte de ce paramètre dans la population car celle-ci n’est pas connue dans sa totalité. La valeur du paramètre dans la population peut seulement être estimée via une méthode d’inférence à partir d’un échantillon. SHIBA utilise exclusivement de l’inférence bayésienne. Le paramètre dans la population est estimé à partir des données observées au cours d’une expérimentation et de la connaissance que vous aviez, avant de mener l’expérimentation, sur les valeurs de ce paramètre. CEtte connaissance peut être très vague ou très précise. Dans SHIBA, la valeur du paramètre dans la population est exprimée par une estimation ponctuelle de la valeur du paramètre assortie d’un intervalle de valeurs donnant la valeur du paramètre avec une certaine incertitude. On peut lui adjoindre la probabilité que le paramètre soit dans un intervalle donné, pré-spécifié, ou au-dessus d’une valeur seuil. Echantillon : un échantillon est un ensemble de sujets extraits de la population étudiée, sur lequel on relève des données et que l’on utilise pour estimer la valeur du paramètre d’intérêt dans la population. Données : on appelle donnée toute mesure réalisée et observée sur un échantillon au cours d’une expérimentation. La donnée peut être qualitative ou quantitative. 2.2 Les différents types de variables SHIBA peut traiter la totalité des types de variables statistiques. On trouve donc des méthodes pour traiter une : variable qualitative variable quantitative variable quantitative discrète. variable quantitative continue variable quantitative continue bornée d’un côté (en général par une valeur minimale, souvent nulle) des deux côtés score bornés, discret ou continu etc A FINIR. "],["principes-de-la-statistique-bayésienne.html", "Chapitre 3 Principes de la statistique Bayésienne 3.1 Notion d’hypothèse scientifique et d’hypothèse statistique. 3.2 Notion de probabilité.", " Chapitre 3 Principes de la statistique Bayésienne 3.1 Notion d’hypothèse scientifique et d’hypothèse statistique. Une théorie sur un phénomène permet de formuler une hypothèse scientifique sur un paramètre d’intérêt. Cette hypothèse scientifique va être traduite en hypothèse statistique, laquelle sera soumise à un test qui vise à valider ou invalider l’hypothèse scientifique. L’hypothèse scientifique est vraie ou fausse mais l’hypothèse statistique, elle, a une certaine probabilité d’être vraie. L’objet de la statistique bayésienne est de calculer la probabilité d’une hypothèse. Le test statistique suppose le recueil de données (les « évènements » de la théorie des probabilités) qui permettront en retour d’estimer la probabilité que cette hypothèse statistique soit vraie. Lorsque cette probabilité est suffisamment élevée (basse) on pourra considérer que l’hypothèse scientifique est validée (invalidée). 3.2 Notion de probabilité. La probabilité d’un évènement d’intérêt E est souvent définie comme la proportion de cas où E survient parmi une série finie de résultats possibles et équiprobable d’une expérience aléatoire. Cette définition suppose que l’on puisse énumérer tous les cas possibles et tous les cas correspondants à E, avant de les observer. La probabilité peut aussi être définie comme la proportion de cas ou E est observé parmi une série de cas. Cette définition assimile la fréquence de E à la probabilité de cet évènement E. On parle alors de probabilité fréquentiste. Par exemple, sur un échantillon de 100 sujets atteints d’une maladie, on observe 80 guérisons. La probabilité fréquentiste de guérison est alors de 0,80 en l’assimilant à la proportion observée de guérison. Ces définitions ne permettent cependant pas de connaitre d’un évènement unique (comme la réussite à un examen ou la guérison d’un malade en particulier). Elles ne permettent pas non plus de connaitre la probabilité d’une théorie ou la probabilité qu’une hypothèse sur un paramètre soit vraie. Par exemple, elles ne permettent pas de connaître la probabilité qu’un Odds-Ratio (OR) soit comris entre 1,2 et 1,4 dans la population. En effet, elles définissent la probabilité de l’évènement E sachant une valeur théorique du paramètre dans la population et pas la probabilité du paramètre dans la population sachant les données observées. Elles supposent donc connue la valeur de l’OR dans la population que justement on cherche à connaitre. Pour connaitre cette valeur de l’OR (l’hypothèse sur l’OR) il faut recourir à la définition épistémique de la probabilité qui définit la probabilité comme le degré de crédibilité que l’on donne à une hypothèse sur le paramètre dans la population. Cette probabilité s’applique donc à un jugement. La statistique bayésienne repose explicitement sur cette définition épistémique de la probabilité même si elle utilise également les définitions classiques au cours des calculs. Cette définition est donc particulièrement utile dans le domaine scientifique où le but est de créer de la connaissance, définie par Aristote comme une croyance vraie et justifiée. L’outil mathématique permettant de transformer le niveau de crédibilité d’une hypothèse en une connaissance est le théorème de Bayes. Ce théorème combine une crédibilité « a priori » sur l’hypothèse portant sur la valeur du paramètre avec l’information contenue dans les données observées via le calcul de leur vraisemblance. Le résultat de la combinaison s’exprime dans une loi dite « a posteriori » qui contient toute l’information utile disponible sur le paramètre d’intérêt. Dans la présente aide, nous utiliserons de manière générique le symbole \\(\\theta\\) pour parler d’un paramètre, qui peut être une moyenne, une variance, une différence de moyennes ou de proportions, un coefficient de corrélation, un OR, un Hazard-Ratio (HR) etc. Le théorème de Bayes peut s’énoncer ainsi : la connaissance a posteriori sur le paramètre \\(\\theta\\) est proportionnelle à la croyance a priori sur $$ multipliée par la probabilité des données D : \\[\\begin{equation} \\Pr(\\theta|D) \\propto Pr(\\theta) \\times \\Pr(D|\\theta) \\end{equation}\\] En synthèse, la statistique bayésienne permet la mise à jour d’une connaissance probabiliste sur un paramètre à l’aide d’observations. Les trois éléments d’une analyse bayésiennes sont donc : La loi a priori : c’est une loi de probabilité (par exemple une loi normale) qui exprime toute la connaissance dont on dispose sur le paramètre avant la collecte des données. Pour chaque analyse, il faut spécifier les caractéristiques de la loi a priori (par exemple moyenne et variance dans le cas de la loi normale) exprimant la connaissance disponible sur \\(\\theta\\). La détermination de cette loi a priori est appelée élicitation ; c’est une étape très importante dans l’inférence bayésienne et SHIBA vous permettra de franchir cette étape facilement. La vraisemblance : c’est la probabilité des données observées conditionnellement aux valeurs a priori du paramètre (dont vous n’avez pas à vous souciez et qui n’apparait pas dans les résultats) La loi a posteriori : c’est une loi de probabilité qui exprime toute la connaissance dont on dispose sur le paramètre \\(\\theta\\) étudié après la collecte des données. Cette loi a posteriori est calculée par SHIBA et sa description permet de fournir une estimation de \\(\\theta\\) ainsi que la probabilité des différentes hypothèses formulées par l’utilisateur. Elle est également la base de test statistique sur la valeur de \\(\\theta\\). Le paramètre d’intérêt (comme par exemple une moyenne d’amélioration d’une grandeur biologique) est souvent le paramètre d’une loi de probabilité (une loi normale pour la moyenne, une loi Beta pour une proportion) mais il est parfois le résultat d’une transformation d’un autre paramètre. Lors de la comparaison de deux proportions, l’OR ne dispose pas d’une loi a priori propre, il n’est pas le paramètre d’une loi a priori. Sa loi a posteriori est en fait recalculée à partir de la loi a posteriori des proportions dans chaque groupe des sujets exposés et non-exposés ou de la loi a posteriori du paramètre d’une régression logistique. Dans le graphique suivant, la loi a priori est en bleu métalique, la vraisemblance est en rouge, la loi a posteriori est en bleu vif. à caser quelque part SHIBA étant basé sur STAN, il peut utiliser des lois a priori par défaut mais nous vous suggérons très fortement de spécifier des lois a priori aussi souvent que possible pour bénéficier de tous les avantages des méthodes bayésiennes. Une loi a priori par défaut ne peut pas, par définition, être adaptée à toutes les situations. Si elle permet d’avoir mécaniquement un résultat, ce résultat ne sera la plupart du temps pas pertinente dans le contexte dans lequel vous avez établi votre modèle. définir aussi ce qui est informatif et ce qui ne l’est pas. Dans les différents onglets de SHIBA, la démarche globale sur le plan statistique est à chaque fois la même. Pour un modèle donné (une proportion, une régression logistique, etc.), il faudra spécifier une loi a priori pour chacun des paramètres d’intérêt ou des éléments composant le paramètre d’intérêt (pour un risque relatif ou un odds-ratio par exemple). SHIBA effectue le calcul de la loi a posteriori du ou des paramètres et permet de réaliser les tests que vous aurez éventuellement spécifié. Notez que le temps de calcul pour une analyse bayésienne peut être notablement plus long qu’avec les méthodes classiques. Ce temps dépend à la fois du nombre de données et de la complexité du modèle qui déterminent le nombre de lois a posteriori à estimer. Plus le nombre de lois à estimer est important, plus le temps de calcul est long. Ce phénomène s’observe surtout avec les modèles mixtes. "],["modèle-de-régression-multivariée..html", "Chapitre 4 Modèle de régression multivariée. 4.1 Eléments généraux 4.2 Exemples de modèle multivarié 4.3 aide des graphiques : à faire. 4.4 digest sur les priors de STAN.", " Chapitre 4 Modèle de régression multivariée. 4.1 Eléments généraux Dans le menu « Multivarié », vous pourrez réaliser au choix (selon le type de la variable à modéliser, spécifié entre parenthèse) : une régression linéaire pour modéliser une variable quantitative une régression logistique pour modéliser une variable binaire. La variable doit obligatoirement contenir deux modalités seulement et vous devrez définir la modalité de référence. SHIBA réalisera automatiquement le recodage en 1 ou 0 (modalité de référence) nécessaire pour ce type de modèle. une régression Bêta lorsque vous souhaitez modéliser une variable de type score dont les valeurs sont par définition contenues entre deux limites connues. Vous devrez préciser quelles sont les bornes théoriques du score (minimum théorique et maximum théorique). Ce type de modèle peut également être utilisé pour un pourcentage lorsqu’il s’agit d’un pourcentage mesuré pour chaque individu (comme une fraction de cholestérol, ou une proportion de polynucléaires dans une formule leucocytaire) et pas sur un groupe de sujet,. une régression de Poisson pour modéliser un comptage c.-à-d. un nombre de quelque chose, comme un nombre d’évènements indésirables par patient au cours d’un suivi ou un nombre de tentatives d’intubation. un modèle de survie pour modéliser une durée jusqu’à survenue d’un évènement, la durée étant censurée pour un certain nombre de sujets. Pour chacun de ces modèles, il y a les éléments suivants dans le menu : La variable à modéliser Le choix des variables pour le modèle o Noms des variables o Variables quantitatives (une fenêtre vide en début de procédure) o Variables qualitatives (une fenêtre vide en début de procédure) L’aide à l’élicitation Le test à deux intervalles (TADI, ou 2IT – Two interval test – en anglais) La définition d’un seuil d’intérêt pour tester le paramètre Un bouton « Go » (estimation, analyse, calcul, loi a priori) : bouton de lancement de l’analyse Comment réaliser un modèle dans l’onglet « Multivarié » ? Pour obtenir un modèle, il vous faudra spécifier les différents éléments du modèle à l’aide des options proposées dans la colonne centrale de l’onglet. Les étapes sont les suivantes : Choisissez l’un des 4 modèles proposés (linéaire, logistique, Beta, Poisson) en cliquant sur son nom Indiquez la variable d’intérêt (la variable à modéliser) en la choisissant dans le menu déroulant « Variable à modéliser » Indiquez la ou les Variables quantitatives à inclure dans le modèle en faisant glisser les étiquettes des variables à utiliser présentées dans la liste des Variables quantitatives vers la petite fenêtre « Variables quantitatives » situées en dessous de la liste des Noms des variables. Vous pouvez spécifier une ou plusieurs variables dans cette fenêtre ; les variables s’ajouteront les unes après les autres pour former la liste des variables à inclure dans le modèle. De la même manière que pour les Variables quantitatives, vous pouvez ajouter dans le modèle une ou plusieurs Variables qualitatives, en faisant glisser les étiquettes des variables à utiliser présentées dans la liste des Variables qualitatives vers la fenêtre des Variables qualitatives. En amont, assurez-vous d’avoir codé correctement ces variables qualitatives notamment pour la modalité de référence. A noter : par défaut, la modalité de référence est la première dans l’ordre alphabétique. Utilisez si besoin l’aide à l’élicitation. L’utilisation de cet outil est fortement conseillée car il permet d’utiliser au maximum les avantages des méthodes bayésiennes. Il y a cependant pour chaque modèle une loi a priori par défaut définie par le logiciel STAN.Cette loi par défaut n’est pas nécessairement la meilleure option (justification). Précisez le niveau de risque souhaité pour les intervalles de crédibilité. Par défaut, SHIBA fournit des intervalles de crédibilité à 95%. Si besoin, utiliser le test à 2 intervalles pour la variable à tester. Cliquer sur le bouton, ce qui fera apparaître un ensemble de fenêtres permettant de spécifier les seuils des hypothèses HA et HP du Test à deux intervalles (2IT). SHIBA calculera automatiquement Pr(HA), Pr(HP) et leur rapport, Pr(HA|D), Pr(HP|D) et leur rapport, ainsi que le Facteur de Bayes FBP/A correspondant. Si besoin, spécifiez une valeur seuil à tester. SHIBA calculera alors \\(Pr(\\theta &gt; seuil | D)\\), la probabilité que la valeur du paramètre soit supérieure sachant les données et la loi a priori de \\(\\theta\\). Lancez le modèle en appuyant sur « Go » L’interprétation des résultats pour un paramètre donné dépend bien sûr du type de modèle, lequel détermine l’interprétation que l’on donne au paramètre (un OR, une moyenne, etc.). Si le modèle est une régression linéaire (variable d’intérêt quantitative), … Si le modèle est une régression logistique (variable d’intérêt qualitative), … Si le modèle est une régression Beta (variable d’intérêt quantitative de type % par individu), … Si le modèle est une régression de Poisson (variable d’intérêt quantitative de dénombrement), … Lorsque le paramètre est une probabilité (pour le 2IT / TADI ou pour la probabilité que le paramètre d’intérêt dépasse une valeur seuil) la valeur dans estimate est directement la valeur de la probabilité cherchée. La colonne std.error indique l’erreur standard du paramètre. 4.2 Exemples de modèle multivarié 4.2.1 Exemple de régression linéaire la droite qui va bien 4.2.2 Exemple de régression logistique La sigmoïde qui va bien 4.2.3 Exemple de régression Beta Un chameau à une bosse est un dromadaire. 4.2.4 Exemple de régression de Poisson Ou comment noyer le Poisson dans des statistiques. 4.2.5 un message d’erreur Dans certain cas peut apparaître un message d’erreur indiquant que le nombre d’itérations utilisées n’a pas permis d’obtenir une convergence satisfaisante des chaines McMC. Veuillez vous adresser à un spécialiste de l’analyse bayésienne des données. Le message en question apparait alors que SHIBA a déjà automatiquement réalisé deux ajustements itératifs de l’algorithme. (Pour nous, GMRC) Le message en question est le suivant : “Le nombre d’itérations utilisées n’a pas permis d’obtenir une convergence satisfaisante des chaines McMC. Veuillez vous adresser à un spécialiste de l’analyse bayésienne des données.” 4.3 aide des graphiques : à faire. des jolis graphiques. 4.4 digest sur les priors de STAN. OK, mais on mets ça où ? "],["it-test-à-deux-intervalles.html", "Chapitre 5 2IT test à deux intervalles 5.1 Premier exemple 5.2 Second exemple", " Chapitre 5 2IT test à deux intervalles On présente ici le principe du 2IT avec des exemples. 5.1 Premier exemple eferf refef rferf 5.2 Second exemple aze aze aze "],["les-résultats.html", "Chapitre 6 Les résultats", " Chapitre 6 Les résultats SHIBA produit automatiquement un certain nombre de résultats. D’autres résultats ne sont affichés que lorsque certaines analyses ont été demandées par l’utilisateur (lister les cas) "],["les-graphiques.html", "Chapitre 7 Les graphiques 7.1 Diagrammes de convergence 7.2 Diagrammes d’autocorrélation", " Chapitre 7 Les graphiques SHIBA produit par défaut tous les graphiques dont vous aurez besoin pour valider le modèle réalisé. Ces graphiques ne s’affichent que si vous demandez à les visualiser. Pour cela, il suffit de cliquer sur le bouton en forme de tarte aux pommes. 7.1 Diagrammes de convergence bebaba 7.2 Diagrammes d’autocorrélation blebleble "],["références..html", "Chapitre 8 Références.", " Chapitre 8 Références. "],["references.html", "References", " References "]]
