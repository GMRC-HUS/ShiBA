[["principes-généraux-de-shiba.html", "SHIBA Chapitre 1 Principes généraux de SHIBA", " SHIBA Une application du GMRC: Groupe Méthodes en Recherche Clinique 2023-09-01 Chapitre 1 Principes généraux de SHIBA SHIBA est une application créée par le Groupe Méthodes en Recherche Clinique (GMRC) des hôpitaux universitaires de Strasbourg et les membres de léquipe IMAGES  RaDoScauba du laboratoire iCUBE (CNRS UMR 7357). Elle est entièrement gratuite, sous licence CC-by-nc 4.0. SHIBA est une interface graphique permettant de réaliser des analyses bayésiennes via le logiciel de statistiques R et les packages de statistiques bayésiennes associés sans avoir à coder les instructions nécessaires pour obtenir ces analyses. Tout fonctionne par des glisser-déposer ou en cliquant sur les éléments dont vous avez besoin. Lutilisation de SHIBA implique cependant de connaître un minimum de notions sur les probabilités et sur ce que sont les méthodes bayésiennes. La présente page daide est là pour vous apporter les connaissances nécessaires pour utiliser correctement loutil. Cet outil est proposé sans aucune garantie de validité sur les résultats. Si vous utilisez cet outil pour traiter des données médicales et a fortiori relevant de la recherche médicale, vous devez le faire dans le respect de la réglementation en vigueur. Les concepteurs de cet outil ne sont pas responsables de ce que vous en faites. Citation Léquipe vous remercie de bien vouloir la citer dans votre bibliographie lorsque vous aurez utilisé SHIBA pour vos travaux scientifiques. La référence est la suivante : Fabacher et toute sa bande de potes, SHIBA, un logiciel qui a du chien. Journal de statistique canine bayésienne. 2023;1(1):1-200. Cet outil est mis à votre disposition sous licence CC BY-NC 4.0, cest-à-dire : Pas dUtilisation Commerciale 4.0 International. Vous êtes autorisé à : Partager  copier, distribuer et communiquer le matériel par tous moyens et sous tous formats Adapter  remixer, transformer et créer à partir du matériel LOffrant ne peut retirer les autorisations concédées par la licence tant que vous appliquez les termes de cette licence. selon les conditions suivantes : Attribution  Vous devez créditer luvre, intégrer un lien vers la licence et indiquer si des modifications ont été effectuées à luvre Vous devez indiquer ces informations par tous les moyens raisonnables, sans toutefois suggérer que lOffrant vous soutient ou soutient la façon dont vous avez utilisé son Oeuvre. Pas dUtilisation Commerciale  Vous nêtes pas autorisé à faire un usage commercial de cette uvre, tout ou partie du matériel la composant. Pas de restrictions complémentaires  Vous nêtes pas autorisé à appliquer des conditions légales ou des mesures techniques qui restreindraient légalement autrui à utiliser luvre dans les conditions décrites par la licence. "],["fonctionnement-général-de-shiba.html", "Chapitre 2 Fonctionnement général de SHIBA 2.1 Vocabulaire de base 2.2 Les différents types de variables", " Chapitre 2 Fonctionnement général de SHIBA SHIBA dispose de plusieurs onglets. Le premier onglet est consacré à limportation et à la lecture de la base de données. Une base de données saisie dans un tableau sous la forme dun tableur avec comme extension : .xlsx, .ods, .txt ou .csv) devra être chargée à laide de ce premier onglet. Une fois la base de données ouverte dans SHIBA, vous pourrez choisir longlet correspondant aux analyses à réaliser. 2.1 Vocabulaire de base La réalisation danalyse statistique dans SHIBA suppose de connaître quelques éléments de vocabulaire statistique. Paramètre : tout ce qui peut quantifier un effet et que lon peut exprimer sous forme numérique : une proportion, une moyenne, un taux dincidence, une différence de proportions ou de moyennes, un coefficient de corrélation, un odds ratio (OR), un risque relatif (RR), la pente dune droite de régression, etc. Population : une population est un ensemble exhaustif dindividus statistiques sur lequel on souhaite estimer la valeur dun paramètre. En pratique, on ne connait jamais la valeur exacte de ce paramètre dans la population car celle-ci nest pas connue dans sa totalité. La valeur du paramètre dans la population peut seulement être estimée via une méthode dinférence à partir dun échantillon. SHIBA utilise exclusivement de linférence bayésienne. Le paramètre dans la population est estimé à partir des données observées au cours dune expérimentation et de la connaissance que vous aviez, avant de mener lexpérimentation, sur les valeurs de ce paramètre. CEtte connaissance peut être très vague ou très précise. Dans SHIBA, la valeur du paramètre dans la population est exprimée par une estimation ponctuelle de la valeur du paramètre assortie dun intervalle de valeurs donnant la valeur du paramètre avec une certaine incertitude. On peut lui adjoindre la probabilité que le paramètre soit dans un intervalle donné, pré-spécifié, ou au-dessus dune valeur seuil. Echantillon : un échantillon est un ensemble de sujets extraits de la population étudiée, sur lequel on relève des données et que lon utilise pour estimer la valeur du paramètre dintérêt dans la population. Données : on appelle donnée toute mesure réalisée et observée sur un échantillon au cours dune expérimentation. La donnée peut être qualitative ou quantitative. 2.2 Les différents types de variables SHIBA peut traiter la totalité des types de variables statistiques. On trouve donc des méthodes pour traiter une : variable qualitative variable quantitative variable quantitative discrète. variable quantitative continue variable quantitative continue bornée dun côté (en général par une valeur minimale, souvent nulle) des deux côtés score bornés, discret ou continu etc A FINIR. "],["principes-de-la-statistique-bayésienne.html", "Chapitre 3 Principes de la statistique Bayésienne 3.1 Notion dhypothèse scientifique et dhypothèse statistique. 3.2 Notion de probabilité.", " Chapitre 3 Principes de la statistique Bayésienne 3.1 Notion dhypothèse scientifique et dhypothèse statistique. Une théorie sur un phénomène permet de formuler une hypothèse scientifique sur un paramètre dintérêt. Cette hypothèse scientifique va être traduite en hypothèse statistique, laquelle sera soumise à un test qui vise à valider ou invalider lhypothèse scientifique. Lhypothèse scientifique est vraie ou fausse mais lhypothèse statistique, elle, a une certaine probabilité dêtre vraie. Lobjet de la statistique bayésienne est de calculer la probabilité dune hypothèse. Le test statistique suppose le recueil de données (les « évènements » de la théorie des probabilités) qui permettront en retour destimer la probabilité que cette hypothèse statistique soit vraie. Lorsque cette probabilité est suffisamment élevée (basse) on pourra considérer que lhypothèse scientifique est validée (invalidée). 3.2 Notion de probabilité. La probabilité dun évènement dintérêt E est souvent définie comme la proportion de cas où E survient parmi une série finie de résultats possibles et équiprobable dune expérience aléatoire. Cette définition suppose que lon puisse énumérer tous les cas possibles et tous les cas correspondants à E, avant de les observer. La probabilité peut aussi être définie comme la proportion de cas ou E est observé parmi une série de cas. Cette définition assimile la fréquence de E à la probabilité de cet évènement E. On parle alors de probabilité fréquentiste. Par exemple, sur un échantillon de 100 sujets atteints dune maladie, on observe 80 guérisons. La probabilité fréquentiste de guérison est alors de 0,80 en lassimilant à la proportion observée de guérison. Ces définitions ne permettent cependant pas de connaitre dun évènement unique (comme la réussite à un examen ou la guérison dun malade en particulier). Elles ne permettent pas non plus de connaitre la probabilité dune théorie ou la probabilité quune hypothèse sur un paramètre soit vraie. Par exemple, elles ne permettent pas de connaître la probabilité quun Odds-Ratio (OR) soit comris entre 1,2 et 1,4 dans la population. En effet, elles définissent la probabilité de lévènement E sachant une valeur théorique du paramètre dans la population et pas la probabilité du paramètre dans la population sachant les données observées. Elles supposent donc connue la valeur de lOR dans la population que justement on cherche à connaitre. Pour connaitre cette valeur de lOR (lhypothèse sur lOR) il faut recourir à la définition épistémique de la probabilité qui définit la probabilité comme le degré de crédibilité que lon donne à une hypothèse sur le paramètre dans la population. Cette probabilité sapplique donc à un jugement. La statistique bayésienne repose explicitement sur cette définition épistémique de la probabilité même si elle utilise également les définitions classiques au cours des calculs. Cette définition est donc particulièrement utile dans le domaine scientifique où le but est de créer de la connaissance, définie par Aristote comme une croyance vraie et justifiée. Loutil mathématique permettant de transformer le niveau de crédibilité dune hypothèse en une connaissance est le théorème de Bayes. Ce théorème combine une crédibilité « a priori » sur lhypothèse portant sur la valeur du paramètre avec linformation contenue dans les données observées via le calcul de leur vraisemblance. Le résultat de la combinaison sexprime dans une loi dite « a posteriori » qui contient toute linformation utile disponible sur le paramètre dintérêt. Dans la présente aide, nous utiliserons de manière générique le symbole \\(\\theta\\) pour parler dun paramètre, qui peut être une moyenne, une variance, une différence de moyennes ou de proportions, un coefficient de corrélation, un OR, un Hazard-Ratio (HR) etc. Le théorème de Bayes peut sénoncer ainsi : la connaissance a posteriori sur le paramètre \\(\\theta\\) est proportionnelle à la croyance a priori sur $$ multipliée par la probabilité des données D : \\[\\begin{equation} \\Pr(\\theta|D) \\propto Pr(\\theta) \\times \\Pr(D|\\theta) \\end{equation}\\] En synthèse, la statistique bayésienne permet la mise à jour dune connaissance probabiliste sur un paramètre à laide dobservations. Les trois éléments dune analyse bayésiennes sont donc : La loi a priori : cest une loi de probabilité (par exemple une loi normale) qui exprime toute la connaissance dont on dispose sur le paramètre avant la collecte des données. Pour chaque analyse, il faut spécifier les caractéristiques de la loi a priori (par exemple moyenne et variance dans le cas de la loi normale) exprimant la connaissance disponible sur \\(\\theta\\). La détermination de cette loi a priori est appelée élicitation ; cest une étape très importante dans linférence bayésienne et SHIBA vous permettra de franchir cette étape facilement. La vraisemblance : cest la probabilité des données observées conditionnellement aux valeurs a priori du paramètre (dont vous navez pas à vous souciez et qui napparait pas dans les résultats) La loi a posteriori : cest une loi de probabilité qui exprime toute la connaissance dont on dispose sur le paramètre \\(\\theta\\) étudié après la collecte des données. Cette loi a posteriori est calculée par SHIBA et sa description permet de fournir une estimation de \\(\\theta\\) ainsi que la probabilité des différentes hypothèses formulées par lutilisateur. Elle est également la base de test statistique sur la valeur de \\(\\theta\\). Le paramètre dintérêt (comme par exemple une moyenne damélioration dune grandeur biologique) est souvent le paramètre dune loi de probabilité (une loi normale pour la moyenne, une loi Beta pour une proportion) mais il est parfois le résultat dune transformation dun autre paramètre. Lors de la comparaison de deux proportions, lOR ne dispose pas dune loi a priori propre, il nest pas le paramètre dune loi a priori. Sa loi a posteriori est en fait recalculée à partir de la loi a posteriori des proportions dans chaque groupe des sujets exposés et non-exposés ou de la loi a posteriori du paramètre dune régression logistique. Dans le graphique suivant, la loi a priori est en bleu métalique, la vraisemblance est en rouge, la loi a posteriori est en bleu vif. à caser quelque part SHIBA étant basé sur STAN, il peut utiliser des lois a priori par défaut mais nous vous suggérons très fortement de spécifier des lois a priori aussi souvent que possible pour bénéficier de tous les avantages des méthodes bayésiennes. Une loi a priori par défaut ne peut pas, par définition, être adaptée à toutes les situations. Si elle permet davoir mécaniquement un résultat, ce résultat ne sera la plupart du temps pas pertinente dans le contexte dans lequel vous avez établi votre modèle. définir aussi ce qui est informatif et ce qui ne lest pas. Dans les différents onglets de SHIBA, la démarche globale sur le plan statistique est à chaque fois la même. Pour un modèle donné (une proportion, une régression logistique, etc.), il faudra spécifier une loi a priori pour chacun des paramètres dintérêt ou des éléments composant le paramètre dintérêt (pour un risque relatif ou un odds-ratio par exemple). SHIBA effectue le calcul de la loi a posteriori du ou des paramètres et permet de réaliser les tests que vous aurez éventuellement spécifié. Notez que le temps de calcul pour une analyse bayésienne peut être notablement plus long quavec les méthodes classiques. Ce temps dépend à la fois du nombre de données et de la complexité du modèle qui déterminent le nombre de lois a posteriori à estimer. Plus le nombre de lois à estimer est important, plus le temps de calcul est long. Ce phénomène sobserve surtout avec les modèles mixtes. "],["modèle-de-régression-multivariée..html", "Chapitre 4 Modèle de régression multivariée. 4.1 Eléments généraux 4.2 Exemples de modèle multivarié 4.3 aide des graphiques : à faire. 4.4 digest sur les priors de STAN.", " Chapitre 4 Modèle de régression multivariée. 4.1 Eléments généraux Dans le menu « Multivarié », vous pourrez réaliser au choix (selon le type de la variable à modéliser, spécifié entre parenthèse) : une régression linéaire pour modéliser une variable quantitative une régression logistique pour modéliser une variable binaire. La variable doit obligatoirement contenir deux modalités seulement et vous devrez définir la modalité de référence. SHIBA réalisera automatiquement le recodage en 1 ou 0 (modalité de référence) nécessaire pour ce type de modèle. une régression Bêta lorsque vous souhaitez modéliser une variable de type score dont les valeurs sont par définition contenues entre deux limites connues. Vous devrez préciser quelles sont les bornes théoriques du score (minimum théorique et maximum théorique). Ce type de modèle peut également être utilisé pour un pourcentage lorsquil sagit dun pourcentage mesuré pour chaque individu (comme une fraction de cholestérol, ou une proportion de polynucléaires dans une formule leucocytaire) et pas sur un groupe de sujet,. une régression de Poisson pour modéliser un comptage c.-à-d. un nombre de quelque chose, comme un nombre dévènements indésirables par patient au cours dun suivi ou un nombre de tentatives dintubation. un modèle de survie pour modéliser une durée jusquà survenue dun évènement, la durée étant censurée pour un certain nombre de sujets. Pour chacun de ces modèles, il y a les éléments suivants dans le menu : La variable à modéliser Le choix des variables pour le modèle o Noms des variables o Variables quantitatives (une fenêtre vide en début de procédure) o Variables qualitatives (une fenêtre vide en début de procédure) Laide à lélicitation Le test à deux intervalles (TADI, ou 2IT  Two interval test  en anglais) La définition dun seuil dintérêt pour tester le paramètre Un bouton « Go » (estimation, analyse, calcul, loi a priori) : bouton de lancement de lanalyse Comment réaliser un modèle dans longlet « Multivarié » ? Pour obtenir un modèle, il vous faudra spécifier les différents éléments du modèle à laide des options proposées dans la colonne centrale de longlet. Les étapes sont les suivantes : Choisissez lun des 4 modèles proposés (linéaire, logistique, Beta, Poisson) en cliquant sur son nom Indiquez la variable dintérêt (la variable à modéliser) en la choisissant dans le menu déroulant « Variable à modéliser » Indiquez la ou les Variables quantitatives à inclure dans le modèle en faisant glisser les étiquettes des variables à utiliser présentées dans la liste des Variables quantitatives vers la petite fenêtre « Variables quantitatives » situées en dessous de la liste des Noms des variables. Vous pouvez spécifier une ou plusieurs variables dans cette fenêtre ; les variables sajouteront les unes après les autres pour former la liste des variables à inclure dans le modèle. De la même manière que pour les Variables quantitatives, vous pouvez ajouter dans le modèle une ou plusieurs Variables qualitatives, en faisant glisser les étiquettes des variables à utiliser présentées dans la liste des Variables qualitatives vers la fenêtre des Variables qualitatives. En amont, assurez-vous davoir codé correctement ces variables qualitatives notamment pour la modalité de référence. A noter : par défaut, la modalité de référence est la première dans lordre alphabétique. Utilisez si besoin laide à lélicitation. Lutilisation de cet outil est fortement conseillée car il permet dutiliser au maximum les avantages des méthodes bayésiennes. Il y a cependant pour chaque modèle une loi a priori par défaut définie par le logiciel STAN.Cette loi par défaut nest pas nécessairement la meilleure option (justification). Précisez le niveau de risque souhaité pour les intervalles de crédibilité. Par défaut, SHIBA fournit des intervalles de crédibilité à 95%. Si besoin, utiliser le test à 2 intervalles pour la variable à tester. Cliquer sur le bouton, ce qui fera apparaître un ensemble de fenêtres permettant de spécifier les seuils des hypothèses HA et HP du Test à deux intervalles (2IT). SHIBA calculera automatiquement Pr(HA), Pr(HP) et leur rapport, Pr(HA|D), Pr(HP|D) et leur rapport, ainsi que le Facteur de Bayes FBP/A correspondant. Si besoin, spécifiez une valeur seuil à tester. SHIBA calculera alors \\(Pr(\\theta &gt; seuil | D)\\), la probabilité que la valeur du paramètre soit supérieure sachant les données et la loi a priori de \\(\\theta\\). Lancez le modèle en appuyant sur « Go » Linterprétation des résultats pour un paramètre donné dépend bien sûr du type de modèle, lequel détermine linterprétation que lon donne au paramètre (un OR, une moyenne, etc.). Si le modèle est une régression linéaire (variable dintérêt quantitative),  Si le modèle est une régression logistique (variable dintérêt qualitative),  Si le modèle est une régression Beta (variable dintérêt quantitative de type % par individu),  Si le modèle est une régression de Poisson (variable dintérêt quantitative de dénombrement),  Lorsque le paramètre est une probabilité (pour le 2IT / TADI ou pour la probabilité que le paramètre dintérêt dépasse une valeur seuil) la valeur dans estimate est directement la valeur de la probabilité cherchée. La colonne std.error indique lerreur standard du paramètre. 4.2 Exemples de modèle multivarié 4.2.1 Exemple de régression linéaire la droite qui va bien 4.2.2 Exemple de régression logistique La sigmoïde qui va bien 4.2.3 Exemple de régression Beta Un chameau à une bosse est un dromadaire. 4.2.4 Exemple de régression de Poisson Ou comment noyer le Poisson dans des statistiques. 4.2.5 un message derreur Dans certain cas peut apparaître un message derreur indiquant que le nombre ditérations utilisées na pas permis dobtenir une convergence satisfaisante des chaines McMC. Veuillez vous adresser à un spécialiste de lanalyse bayésienne des données. Le message en question apparait alors que SHIBA a déjà automatiquement réalisé deux ajustements itératifs de lalgorithme. (Pour nous, GMRC) Le message en question est le suivant : Le nombre ditérations utilisées na pas permis dobtenir une convergence satisfaisante des chaines McMC. Veuillez vous adresser à un spécialiste de lanalyse bayésienne des données. 4.3 aide des graphiques : à faire. des jolis graphiques. 4.4 digest sur les priors de STAN. OK, mais on mets ça où ? "],["it-test-à-deux-intervalles.html", "Chapitre 5 2IT test à deux intervalles 5.1 Premier exemple 5.2 Second exemple", " Chapitre 5 2IT test à deux intervalles On présente ici le principe du 2IT avec des exemples. 5.1 Premier exemple eferf refef rferf 5.2 Second exemple aze aze aze "],["les-résultats.html", "Chapitre 6 Les résultats", " Chapitre 6 Les résultats SHIBA produit automatiquement un certain nombre de résultats. Dautres résultats ne sont affichés que lorsque certaines analyses ont été demandées par lutilisateur (lister les cas) "],["les-graphiques.html", "Chapitre 7 Les graphiques 7.1 Diagrammes de convergence 7.2 Diagrammes dautocorrélation", " Chapitre 7 Les graphiques SHIBA produit par défaut tous les graphiques dont vous aurez besoin pour valider le modèle réalisé. Ces graphiques ne saffichent que si vous demandez à les visualiser. Pour cela, il suffit de cliquer sur le bouton en forme de tarte aux pommes. 7.1 Diagrammes de convergence bebaba 7.2 Diagrammes dautocorrélation blebleble "],["références..html", "Chapitre 8 Références.", " Chapitre 8 Références. "],["references.html", "References", " References "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
