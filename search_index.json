[["index.html", "SHIBA Chapitre 1 SHIBA", " SHIBA Une application du GMRC: Groupe Méthodes en Recherche Clinique 2023-11-09 Chapitre 1 SHIBA Un outil combinant R, Shiny et STAN pour faciliter la réalisation des analyses statistiques Bayésiennes "],["quest-ce-que-shiba.html", "Chapitre 2 Qu’est-ce que SHIBA ? 2.1 Fonctionnement général de SHIBA 2.2 Note", " Chapitre 2 Qu’est-ce que SHIBA ? SHIBA est une application créée par les membres du Groupe Méthodes en Recherche Clinique (GMRC) des Hôpitaux Universitaires de Strasbourg et de l’équipe IMAGES – RaDoScauba du laboratoire iCUBE (CNRS UMR 7357) Université de Strasbourg. Elle est entièrement gratuite, sous licence CC-by-nc 4.01. SHIBA est une interface graphique permettant de réaliser des analyses bayésiennes via le logiciel de statistiques R et les packages associés sans avoir à coder les instructions nécessaires pour obtenir ces analyses. Cet outil est proposé sans aucune garantie de validité sur les résultats. Ce logiciel est mis à votre disposition gracieusement par les Hôpitaux Universitaires de Strasbourg (HUS) et l’Université de Strasbourg (Unistra). Ni les HUS ni l’Unistra ne pourront pas être tenus pour responsables des résultats produits par l’outil ainsi que de ses mésusages. Afin de se conformer à la règlementation nationale et européenne sur la protection des données à caractère personnel, nous vous demandons de n’utiliser que des données anonymisées. 2.1 Fonctionnement général de SHIBA SHIBA dispose de plusieurs onglets. Une fois la base de données importée et ouverte dans SHIBA, vous pourrez choisir l’onglet correspondant aux analyses à réaliser : description des données puis inférence, uni- ou multivariée. Dans chaque onglet, en cliquant sur le bouton « AIDE et détails » vous accéderez à une aide spécifique de l’onglet. 2.2 Note Cette application n’enregistre ni votre activité, ni vos données. A la fermeture de l’application, vous ne pourrez pas revenir ou récupérer les analyses effectuées. Il vous faudra recharger la base et recommencer les manipulations. En typographie, le mot espace est féminin.↩︎ "],["intro.html", "Chapitre 3 Intro 3.1 Qu’est-ce que SHIBA ? 3.2 Fonctionnement général de SHIBA 3.3 Vocabulaire de base 3.4 Principes de la statistique Bayésienne", " Chapitre 3 Intro Un outil combinant R, Shiny et STAN pour faciliter la réalisation des analyses statistiques Bayésiennes 3.1 Qu’est-ce que SHIBA ? SHIBA est une application créée par les membres du Groupe Méthodes en Recherche Clinique (GMRC) des Hôpitaux Universitaires de Strasbourg et de l’équipe IMAGES – RaDoScauba du laboratoire iCUBE (CNRS UMR 7357) Université de Strasbourg. Elle est entièrement gratuite, sous licence CC-by-nc 4.02. SHIBA est une interface graphique permettant de réaliser des analyses bayésiennes via le logiciel de statistiques R et les packages associés sans avoir à coder les instructions nécessaires pour obtenir ces analyses. SHIBA nécessite cependant de connaître un minimum de notions sur ce que sont les méthodes bayésiennes. La présente page d’aide est là pour vous donner les connaissances nécessaires à une compréhension élémentaire de ces méthodes et à l’utilisation de SHIBA. Cet outil est proposé sans aucune garantie de validité sur les résultats. Ce logiciel est mis à votre disposition gracieusement par les Hôpitaux Universitaires de Strasbourg (HUS) et l’Université de Strasbourg (Unistra). Ni les HUS ni l’Unistra ne pourront pas être tenus pour responsables des résultats produits par l’outil ainsi que de ses mésusages. Afin de se conformer à la règlementation nationale et européenne sur la protection des données à caractère personnel, nous vous demandons de n’utiliser que des données anonymisées. 3.2 Fonctionnement général de SHIBA SHIBA dispose de plusieurs onglets. Les onglets se répartissent en deux grandes catégories : ceux consacrés à la description des données et ceux consacrés à l’inférence bayésienne, univariée et multivariée. Le premier onglet est consacré à l’importation et à la lecture de la base de données. Une base de données saisie dans un tableau sous la forme d’un tableur avec comme extension : .xlsx, .ods, .txt ou .csv) devra être chargée à l’aide de ce premier onglet. Une fois la base de données ouverte dans SHIBA, vous pourrez choisir l’onglet correspondant aux analyses à réaliser : descriptif puis inférence, uni- ou multivariée. Dans chaque onglet, en cliquant sur le bouton « AIDE et détails » vous accéderez à une aide spécifique de l’onglet. 3.2.0.1 Note Cette application n’enregistre ni votre activité, ni vos données. A la fermeture de l’application, vous ne pourrez pas revenir ou récupérer les analyses effectuées. Il vous faudra recharger la base et recommencer les manipulations. 3.3 Vocabulaire de base La réalisation d’analyse statistique dans SHIBA suppose de connaître quelques éléments de vocabulaire statistique. Paramètre : tout ce qui peut quantifier un effet et que l’on peut exprimer sous forme numérique : une proportion, une moyenne, un taux d’incidence, une différence de proportions ou de moyennes, un coefficient de corrélation, un odds ratio (OR) ou son logarithme, un risque relatif (RR), la pente d’une droite de régression, etc. Population : une population est un ensemble exhaustif d’individus statistiques sur lequel on souhaite estimer la valeur d’un paramètre. En pratique, on ne connait jamais la valeur exacte de ce paramètre dans la population car celle-ci n’est pas connue dans sa totalité. La valeur du paramètre dans la population peut seulement être estimée statistiquement via une méthode d’inférence à partir d’un échantillon. SHIBA utilise exclusivement de l’inférence bayésienne dans laquelle le paramètre dans la population est estimé à partir des données observées sur un échantillon au cours d’une expérimentation et de la connaissance que vous aviez, avant de mener l’expérimentation, sur les valeurs de ce paramètre. Echantillon : un échantillon est un ensemble de sujets extraits de la population étudiée, ensemble sur lequel on relève des données et que l’on utilise pour estimer la valeur du paramètre d’intérêt dans la population. Données : on appelle donnée toute mesure réalisée et observée sur un échantillon au cours d’une expérimentation. Une donnée peut être qualitative ou quantitative. 3.4 Principes de la statistique Bayésienne 3.4.1 Notion d’hypothèse scientifique et d’hypothèse statistique. Une théorie sur un phénomène permet de formuler une hypothèse scientifique sur un paramètre d’intérêt q. Cette hypothèse scientifique sur le phénomène va être traduite en une hypothèse statistique sur la valeur du paramètre exprimant le phénomène. Cette valeur sera soumise à un test qui vise à valider ou invalider l’hypothèse scientifique. L’hypothèse scientifique est vraie ou fausse mais l’hypothèse statistique, elle, est associée à une probabilité d’être vraie. Le test statistique suppose le recueil de données (les « évènements » de la théorie des probabilités) qui permettront en retour d’estimer la probabilité que cette hypothèse statistique soit vraie. Lorsque cette probabilité est suffisamment élevée (basse) on pourra considérer que l’hypothèse scientifique est validée (invalidée). 3.4.2 Notion de probabilité. La définition la plus couramment utilisée de la probabilité est une définition dite fréquentiste dans laquelle la probabilité est définie comme un nombre de cas favorables sur un nombre de cas possibles, mesurés sur un échantillon. Par exemple, dans un échantillon de 100 sujets, 80 sont guéris et on dit que la probabilité de guérir est de 0,8 (valeur entre 0 et 1) car la fréquence de guérison observée est de 80/100. Cette définition ne permet cependant pas de connaitre la probabilité qu’une hypothèse sur le paramètre soit vraie car elle définit la probabilité de l’évènement E sachant une valeur hypothétique du paramètre dans la population et pas la probabilité du paramètre dans la population sachant les données observées. Scientifiquement, c’est la valeur du paramètre dans la population qui est l’objet d’intérêt. La valeur de ce paramètre n’est en général pas connue de manière imprécise puisque l’on cherche à l’estimer. La théorie bayésienne lui attribue alors une loi de probabilité dite a priori, traduisant le niveau de connaissance sur cette valeur ce qui constitue une définition épistémique de la probabilité où la probabilité est interprétée comme une quantité de connaissance dont on dispose sur une hypothèse sur le paramètre dans la population. La statistique bayésienne repose explicitement sur cette définition épistémique de la probabilité même si elle utilise également les définitions classiques au cours des calculs. La connaissance pré-expérimentale sur la valeur du paramètre est exprimée dans une loi de probabilité dite a priori car spécifiée en amont de l’acquisition de données expérimentales. Après acquisition de ces données expérimentales, la connaissance post-expérimentale sur la valeur du paramètre est mise à jour par le théorème de Bayes et cette connaissance est contenue dans la loi de probabilité dite a posteriori du paramètre. Cette loi a posteriori contient toute l’information disponible sur le paramètre d’intérêt. Le théorème de Bayes peut s’énoncer de la manière suivante : après l’expérimentation, la connaissance a posteriori sur le paramètre q est proportionnelle à la connaissance a priori sur q multipliée par la probabilité des données D : (q|D) Pr(q) \\Pr(D| q) En synthèse, la statistique bayésienne permet la mise à jour d’une connaissance probabiliste sur un paramètre à l’aide d’observations. 3.4.3 Les trois éléments d’une analyse bayésiennes sont donc : La loi a priori : c’est une loi de probabilité (par exemple une loi normale) qui exprime toute la connaissance dont on dispose sur le paramètre avant la collecte des données à pour chaque analyse, il faut spécifier les caractéristiques de la loi a priori (par exemple sa moyenne et sa variance dans le cas de la loi normale) exprimant la connaissance disponible sur q. C’est une étape très importante dans l’inférence bayésienne et SHIBA vous permettra de la passer assez facilement. La vraisemblance : c’est la probabilité des données observées conditionnellement aux valeurs a priori du paramètre. Vous n’avez pas à vous souciez de la vraisemblance et elle n’apparait pas dans les résultats. La loi a posteriori : c’est la loi de probabilité qui exprime toute la connaissance dont on dispose sur le paramètre q étudié après la collecte des données. Cette loi a posteriori est calculée et fournie par SHIBA. Elle permet de donner une estimation ponctuelle et par intervalle de q ainsi que de calculer la probabilité que q soit supérieur ou inférieur à un seuil ou contenu dans un intervalle spécifié en amont. Elle est également la base de test statistique sur la valeur de q. Dans le graphique suivant, la loi a priori est en bleu, la vraisemblance est en rouge, la loi a posteriori est en bleu vif. images/image_index.png.png) Le paramètre d’intérêt est parfois le paramètre d’une loi de probabilité. Par exemple, la moyenne est le paramètre de moyenne d’une loi normale. Mais il est parfois le résultat d’une transformation d’un autre paramètre. Lors de la comparaison de deux proportions, l’OR ne dispose pas d’une loi a priori propre : il n’est pas le paramètre d’une loi a priori. Sa loi a posteriori est en fait recalculée à partir de la loi a posteriori des proportions dans chaque groupe ou du paramètre d’une régression logistique. Dans tous les cas, la loi a priori du paramètre est mise à jour par les données pour fournir une loi a posteriori. Dans les différents onglets de SHIBA, la démarche statistique globale est à chaque fois la même. Pour un modèle donné (une proportion, une régression logistique, etc.), il faudra spécifier une loi a priori pour chacun des paramètres d’intérêt ou des éléments composant le paramètre d’intérêt (pour un risque relatif ou un odds-ratio par exemple). Dans les modèles multivariés, il faudra spécifier une loi a priori pour le paramètre de chaque variable incluse dans le modèle. SHIBA effectue le calcul de la loi a posteriori du ou des paramètres et permet de réaliser les tests que vous aurez éventuellement spécifié. 3.4.4 Notion de test sur le paramètre : test par rapport à un seuil et test à deux intervalles (2IT). La valeur d’un paramètre q est connue à travers sa loi a posteriori. Il est possible de tester la valeur de q par rapport à une valeur de référence, en calculant la probabilité que la valeur de q soit supérieure à une valeur seuil donnée. Dans les onglets des inférences univariée et multivariée vous pouvez spécifier une valeur pour chaque paramètre. Il est également possible de tester si la valeur de q est contenue dans un intervalle d’intérêt. Le principe du test à deux intervalles (voir ici) consiste à spécifier deux intervalles d’intérêt pour la valeur de q : un intervalle dit HA spécifiant des valeurs de q pour lesquelles on considérera que l’effet est absent (A) ou au moins négligeable dans le contexte, et un intervalle HP spécifiant des valeurs de q pour lesquelles on considérera que l’effet est présent (P), confirmant l’hypothèse scientifique. Les pages d’inférence univariée et multivariée dispose de boutons et menus pop-up permettant de spécifier les bornes de chacun des deux intervalles HA et HP. En typographie, le mot espace est féminin.↩︎ "],["base-de-données.html", "Chapitre 4 Base de données", " Chapitre 4 Base de données Dans cet onglet vous pourrez procéder à l’import de votre base de données et vous obtiendrez une visualisation de son contenu. Vous pouvez importer les données de différentes manières : - en important un fichier de données enregistré dans l’un des formats suivants : .csv, .txt, .xls, .xlsx, .rds, .fst, .sas7bdat, .sav - en faisant un copier/coller, ce qui est plus intéressant pour de très petites bases de données - en important des données contenues dans une Googlesheets - en indiquant une URL pointant vers un fichier. Dans tous les cas, vos données devront respecter les techniques de base en matière d’enregistrement des données. Les outils d’importation des données permettent dans une certaine mesure de préciser les modalités d’importation mais il est plus simple que la base respectent d’emblée les régles usuelles de formattage des données. Pour l’importation, il faut spécifier : Le type de séparateur utilisé dans votre base : virgule, point-virgule ou tabulation Le code utilisé pour les manquants : une oblique (slash), un astérisque, ou les lettres NA (qui doivent être les seuls éléments contenus dans la case). Nous vous conseillons de mettre un “NA” (sans les guillemets) mais les deux autres choix sont valides. Il vous faudra aussi au préalable, veillez à ce que toutes les données manquantes de votre fichier soit codées de la même manière. Par exemple, SHIBA n’interprétera pas correctement des données manquantes qui seraient codées NA pour certaines et ND pour d’autres. Le symbole utilisé pour la décimale : Virgule (ou décimale française), point (ou décimale anglo-saxonne) Le logiciel ayant été utilisé pour enregistrer les données Excel pour Windows, ou Libre Office pour Linux Parcourez ensuite l’arborescence de vos fichiers pour sélectionner votre base de données. L’onglet central affichera une prévisualisation de votre base de données. L’onglet de droite vous permettra de modifier, variable par variable, le type de données si la détection automatique du type de la variable n’a pas donné le résultat escompté. Note Cette application n’enregistre ni votre activité, ni vos données. A la fermeture de l’application, vous ne pourrez pas revenir ou récupérer les analyses effectuées. Il vous faudra recharger la base et recommencer les manipulations. Note Vous êtes responsable de la conformité réglementaire et de la sécurité des données que vous exploitez au travers de l’application « SHIBA ». L’application doit donc être utilisée conformément aux règles de sécurité établies par votre structure. Pour toute mise en œuvre d’une base de données directement ou indirectement nominative, il convient de se mettre en conformité avec la loi « Informatique et Libertés ». Dans la partie « Visualisation de la base », SHIBA vous donne quelques informations sur la structure de votre base de données. Cette description est fournie dans trois sous-onglets : Informations brutes Données manquantes cumulées par variable Données manquantes cumulées par sujet Dans les « Informations brutes », SHIBA vous indique : les dimensions de la base (nombre de lignes et de colonnes, nombre de données) Une description rapide des données manquantes : le nombre de lignes et de colonnes vides, le nombre et le pourcentage de données manquantes. Le type de variable : quantitative, qualitative, textuelle, ou d’une autre nature. Un graphique donne une cartographie des valeurs manquantes Dans les « Données manquantes cumulées par variable » vous obtenez une description graphique et numérique du nombre de valeurs manquantes de chaque variable de votre base de données. Dans les « Données manquantes cumulées par sujet » vous obtenez une description graphique et numérique du nombre de valeurs manquantes pour chaque ligne de votre base de données. En cliquant sur le bouton « instructions formatage » vous avez accès à un document décrivant les règles essentielles de constitution d’une base de données pour que celle-ci soit lisible avec un minimum d’erreur. "],["descriptif.html", "Chapitre 5 Descriptif", " Chapitre 5 Descriptif L’onglet « Descriptif » fournit une description des variables. Une boite avec un menu déroulant vous permet de choisir la variable pour laquelle vous voulez une description. Vous pouvez ensuite préciser s’il s’agit d’une variable qualitative ou quantitative. La description est à la fois numérique et graphique, pour les deux types de variables possibles. Dans cette première version de SHIBA, il n’est pas possible de choisir le type de graphique dans cet onglet. "],["inférence-univariée.html", "Chapitre 6 Inférence univariée 6.1 Pour l’estimation d’une moyenne : 6.2 Pour l’estimation d’une proportion :", " Chapitre 6 Inférence univariée L’onglet « Inférence univariée » contient deux sous-onglets. Le premier est consacré à l’estimation d’une moyenne et le second à l’estimation d’une proportion. 6.1 Pour l’estimation d’une moyenne : Une boite à menu déroulant « Variable » vous permet de choisir la variable pour laquelle vous voulez estimer la moyenne. Précisez ensuite les paramètres des lois a priori sur la moyenne et sur l’écart-type du paramètre. Pour l’a priori sur la moyenne, dans la case mu0, indiquez la moyenne a priori. Une valeur par défaut vous est proposée mais il est pertinent de la modifié chaque fois que nécessaire. Dans la case Pseudo-échantillon, indiquez la taille du pseudo-échantillon, c’est-à-dire la taille de l’échantillon virtuel sur lequel cette connaissance sur mu0 serait obtenue. Un graphique affiché en temps réel vous permet de visualiser la loi a priori que vous avez ainsi définie. Pour l’a priori sur l’écart-type : la loi a priori est une loi gamma, ayant deux paramètres. Le paramètre alpha est un paramètre de position et le paramètre Beta est un paramètre de précision. Dans les 4 boites des paramètres, vous pouvez soit choisir une valeur en utilisant les flèches situées au bout de la boite soit en tapant directement la valeur choisie dans la boite. Les valeurs non-entières sont possibles pour les 4 paramètres. Un bouton « Aide à l’élicitation » ouvre un menu pop-up. Un bouton « Two-It » ouvre un menu pop-up permettant de spécifier les bornes des deux intervalles HA et HP. En appuyant sur le bouton « Go » vous obtiendrez les résultats des analyses dans la partie droite de l’écran. 6.2 Pour l’estimation d’une proportion : Spécifier la variable à utiliser pour estimer une proportion en indiquant son nom dans la liste déroulante « Variable proportion d’intérêt ». La spécification de la loi a priori se fait en indiquant la valeur des paramètres alpha et beta de la loi a priori Beta dans les boites correspondantes : « A priori paramètre alpha » et « A priori paramètre alpha ». Un graphique s’adapte en temps réel pour vous permettre de visualiser la loi a priori que vous aurez spécifiée. Vous pouvez ensuite choisir la largeur de l’intervalle de crédibilité a posteriori à présenter dans les résultats. Un menu pop-up vous permets de spécifier les bornes des deux intervalles pour le 2IT ainsi qu’une valeur seuil pour réaliser un test si besoin. (rajouter ensuite la description des résultats) En appuyant sur le bouton « Go » vous obtiendrez les résultats des analyses dans la partie droite de l’écran. "],["comparaison.html", "Chapitre 7 comparaison 7.1 Comparaisons de moyennes 7.2 Description des résultats. 7.3 Comparaisons de pourcentages", " Chapitre 7 comparaison 7.1 Comparaisons de moyennes Indiquez à l’aide des listes déroulantes la variable de groupe et la variable quantitative dont il faut comparer les moyennes entre les groupes. Indiquez ensuite la loi a priori pour la moyenne et l’écart-type de la variable quantitative dans chaque groupe à l’aide des zones de saisie de valeur ou à l’aide des flèches situées sur la droite de ces zones de saisie. Cliquez sur OK pour valider ces choix. Préciser le niveau de risque pour l’intervalle de crédibilité à l’aide du curseur. Si vous le souhaitez, SHIBA vous permets de réaliser un test sur la comparaison de moyennes. Si vous voulez faire un test par rapport à un seuil, précisez la valeur de ce seuil. Si vous souhaitez réaliser un test à deux intervalles, spécifier les bornes hautes et basses de chaque intervalle du test (A : effet absent et P : effet présent). Une fois l’ensemble des ces éléments spécifiés, vous pouvez cliquer sur le bouton “Go :” et les résultats s’afficheront dans la fenêtre de droite. 7.2 Description des résultats. 7.3 Comparaisons de pourcentages Indiquez à l’aide des listes déroulantes la variable de groupe et la variable qualitative dont il faut comparer les proportions entre les groupes. Indiquez ensuite la loi a priori de la variable qualitative dans chaque groupe à l’aide des zones de saisie de valeur ou à l’aide des flèches situées sur la droite de ces zones de saisie. Une loi a priori de Jeffreys par défaut est proposée mais il est pertinent d’adapter ces valeurs à chaque analyse. Cliquez sur OK pour valider ces choix. Préciser le niveau de risque pour l’intervalle de crédibilité à l’aide du curseur. Si vous le souhaitez, SHIBA vous permets de réaliser un test sur la comparaison de proportions. Si vous voulez faire un test par rapport à un seuil, précisez la valeur de ce seuil. Si vous souhaitez réaliser un test à deux intervalles, spécifier les bornes hautes et basses de chaque intervalle du test (A : effet absent et P : effet présent). Une fois l’ensemble des ces éléments spécifiés, vous pouvez cliquer sur le bouton “Go :” et les résultats s’afficheront dans la fenêtre de droite. "],["multivarié.html", "Chapitre 8 Multivarié 8.1 Généralités 8.2 Régression linéaire 8.3 Régression logistique 8.4 Régression de Poisson 8.5 Sélection des modalités de référence 8.6 Choix des lois a priori (“priors”) 8.7 Seuils et Test à 2 intervalles 8.8 Résultats affichés", " Chapitre 8 Multivarié 8.1 Généralités Préciser le type de modèle que vous souhaitez réaliser. Vous avez le choix entre une régression linéaire, une régression logistique et une régression de Poisson. Le fonctionnement de SHIBA est le même pour ces trois modèles. Après avoir préciser le niveau de risque consenti pour les intervalles de crédibilité, choisissez la variable d’intérêt (à prédire, Y) puis l’ensemble des variables explicatives. La sélection des variables à inclure se fait par glisser-déposer à partir de la liste des variables jusqu’à chacune des listes “variables quantitatives” et “variables qualitatives”. Vous pouvez spécifier plusieurs variables de chaque type. 8.2 Régression linéaire 8.3 Régression logistique 8.4 Régression de Poisson 8.5 Sélection des modalités de référence 8.6 Choix des lois a priori (“priors”) 8.7 Seuils et Test à 2 intervalles 8.8 Résultats affichés SHIBA fournit différents types de résultats. rappel du modèle liste des lois a priori une analyse de la convergence (faite systématiquement mais son affichage ne se fait qu’à la demande de l’utilisateur) les résultats youpi, en fait ça marche pas mal !!! "],["annexe-saisie-des-données.html", "Annexe : Saisie des données 8.9 Mode de lecture 8.10 Logiciel et support de la saisie 8.11 Le format général 8.12 Organisation des données 8.13 Anonymat 8.14 Autres situations 8.15 Contrôle des données", " Annexe : Saisie des données 8.9 Mode de lecture Ce document est formé de deux parties : tout d’abord les instructions puis deux copies d’écrans, situées en fin de document. Ces deux parties décrivent conjointement les erreurs à ne pas commettre lors de la réalisation d’un fichier de données ainsi que le format final attendu pour votre fichier. Les erreurs décrites dans le texte sont montrées dans la première copie d’écran. La seconde copie d’écran montre le format attendu pour le fichier de données. Vous pourrez vous reporter à ces deux images pour chacun des exemples donnés dans le texte afin de comparer les erreurs avec ce qu’il faut obtenir in fine. 8.10 Logiciel et support de la saisie Les données doivent être saisies, si possible sur Excel ou Access ou tout autre tableur/base de données capable d’exporter un fichier au format «.txt». Vous pouvez éventuellement faire la saisie directement dans la feuille de données de certains logiciels de statistique tels que SPSS ou Minitab, mais ce n’est pas conseillé. 8.11 Le format général Le fichier final doit être «plein, rectangulaire, nu». Ces trois critères sont détaillés dans les paragraphes ci-dessous. 8.11.1 Fichier plein et rectangulaire \\(1\\) Toutes les cases du fichier doivent contenir des données (fichier plein). Lorsque vous ne disposez pas de valeurs pour l’une des cases, mettez un symbole, de préférence une «*», pour indiquer que la valeur est manquante. Le fichier est alors plein : toute les cellules sont remplies. Ceci est particulièrement important pour la dernière ligne et la dernière colonne qui ne doivent absolument pas présenter de cases vides, au risque de perturber l’importation des données dans les logiciels de statistique. Les données manquantes seront donc signalées par une «*». Exemple : dans l’écran , les cases D5, H7 et H8, E13 sont vides suite à des données manquantes. Il faut y mettre une «*». Il faut porter une attention particulière aux dernières lignes et colonnes car elles contiennent souvent les cas et les variables les moins importants ou pour lesquels on dispose de moins d’informations. On y trouve donc souvent des cases vides. \\(2\\) Aucune donnée ne doit apparaître en dehors de la zone de saisie à proprement parler. Le fichier a alors une forme rectangulaire. Ne laissez pas de formules (moyenne, somme, etc) en bout de lignes et/ou de colonnes : le logiciel de statistique fera tous les calculs nécessaires. Exemple : l’écran contient une formule dans la cellule E15. Dans le fichier à traiter, cette formule doit disparaître afin que le fichier reste rectangulaire. La ligne des noms de variables doit être la première ligne de la base de données, car l’importation commence généralement à la première ligne du fichier. De plus, lors de cette phase d’importation des données, le logiciel utilise généralement cette première ligne pour y lire les noms des variables. Chaque colonne doit posséder un nom de variable. Le nom de cette colonne doit être placé dans la première cellule de la colonne, tout en haut de celle-ci. Par conséquent, si vous avez huit variables, la première ligne de votre fichier doit impérativement contenir 8 noms de variables. Si votre fichier contient huit variables mais qu’il n’y a qu’un seul nom sur la première ligne, le logiciel ne saura pas de quelle manière faire correspondre les valeurs des variables et leurs noms respectifs. Le plus souvent, les huit colonnes de données se retrouveront réunies en une seule colonne ayant le nom trouvé dans la première ligne. Cette colonne sera alors totalement illisible pour les calculs. C’est pour cette même raison que les noms de variables ne doivent absolument pas contenir d’espace, parfois interprétée par le logiciel comme un séparateur de colonne et donc de variable. Le nombre de noms de variables ne correspond alors plus au nombre de variables ce qui provoque un conflit lors de l’importation des données. Les noms des variables doivent se situer sur la première ligne du fichier. Certains logiciels permettent de préciser lors de l’importation sur quelle ligne du fichier se trouve la première ligne des données, mais ce n’est pas toujours le cas. Exemple : dans l’écran , la première ligne contient un titre et pas les noms des variables. Ces noms se trouvent dans la troisième ligne. Dans le fichier à traiter, il faudra supprimer le titre et mettre le contenu de la troisième ligne dans la première. Le fichier ne doit pas contenir de colonnes vides ni de lignes vides. Les données doivent donc commencer sur la deuxième ligne du fichier, immédiatement sous le nom des variables qui seront eux dans la première ligne. Ne mettez pas de lignes vides entre les noms de variables et les données. Exemple : dans l’écran , la ligne 9 doit disparaître, de même que la colonne F. La ligne 2 est vide et devra disparaître de manière à ce que les données fassent immédiatement suite à la ligne des noms de variables. Ne séparez jamais des sous-groupes de sujets par une ligne/colonne vide. Ne mettez jamais les sujets de deux groupes différents dans deux sous-tableaux distincts (présentation par bloc). Cette présentation induit des espaces vides dans la base de données et l’importation dans certains logiciels s’arrête à la fin du premier bloc. Il faut alors refaire l’importation après modification du fichier Excel d’origine. Exemple : la scissure (en ligne 9) de l’écran n’a pas lieu d’être. Il faut la supprimer. Toutes les données doivent être sur la même feuille. Exemple : Ne mettez pas les femmes sur une feuille et les hommes sur une autre, ce qui constitue un cas extrême d’une présentation par bloc des données. 8.11.2 Fichier nu La base de données ne doit contenir que des données, sans aucune fioritures. Ne mettez pas de graphique sur la feuille. Mettez les toujours dans une feuille à part. Ne mettez pas de commentaires sur la feuille. Ne mettez pas de couleurs pour signaler certains cas particuliers, ni de gras (aaa), ni de souligné (aaa ou ), ni de barré (aaa ou ). N’encadrez pas de cases pour signaler certains cas particuliers et ne faites aucune mise en page. Exemple : Dans l’écran , les cellules H8 et D10 à D13 sont colorées. Il faut supprimer ces colorations. Le cadre de la cellule E7 doit aussi être supprimé. Les commentaires de la cellule A1 et D15 (moyenne=) doivent être effacés. Le terme Dossier dans la case A6 est inutile, de même que le `` dans la case A4. 8.12 Organisation des données 8.12.1 Les sujets Les sujets doivent être situés en ligne. Il y a un sujet par ligne et une ligne par sujet. Ne juxtaposez pas les sujets. Autrement dit, toutes les données se rapportant à un seul sujet doivent se situer sur une et une seule ligne dans la mesure du possible. Il doit donc y avoir autant de lignes que de sujets et vice-versa. 8.12.2 Les variables et leurs noms A chaque colonne ne doit correspondre qu’une et une seule variable. N’empilez pas plusieurs variables dans une seule colonne. Inversement, toutes les données se rapportant à une variable doivent se trouver dans la même colonne. Donnez à chacune de vos variables un nom de 8 lettres (et chiffres), 10 au maximum, sans symbole (c’est à dire sans symbole exotique). Ceci est lié au fait que certains logiciels de statistique refusent de lire certains symboles peu usités. Cependant, sont parfois acceptés les 3 symboles suivants : #, _ et plus rarement $. Evitez néanmoins d’en faire usage si possible. Le symbole _ (underscore en anglais, tiret bas en français) est celui qui se trouve sur la touche «8», en haut du clavier, au-dessus des lettres «u» et «i». Ne faites usage de ces symboles qu’en cas d’absolue nécessité. Attention ! Les noms des variables ne doivent jamais commencer par un ## (donc bannir #Tmt1), un nombre (bannir 1Tmt) ou une espace3. Pour s’assurer de l’absence d’espace avant un mot dans Excel, il faut placer le curseur dans la case contenant le mot et s’assurer que le curseur ne peut se déplacer entre le bord gauche de la case et le début du mot. Exemple : dans l’écran , le nom «TRAITEMENT» est trop long et sera la plupart du temps tronqué à huit caractères (TRAITEME). La case C3 contient une parenthèse qui sera souvent mal lue par le logiciel. En résumé : Le nom d’une variable doit avoir au maximum 10 caractères, ne doit contenir aucune espace et ne contenir aucun caractère particulier autre que des lettres et des nombres. Par ailleurs, le nom d’une variable ne doit jamais commencer par un nombre ou une espace. Chaque nom de variable doit être unique, deux variables différentes ne doivent pas avoir le même nom. Contrairement à Excel qui accepte que deux colonnes soient nommées de la même façon, les logiciels de statistique requièrent une identification parfaite et univoque des variables afin d’éviter toute confusion entre variables, notamment lors de leur importation dans le logiciel mais aussi lors du traitement des données. Exemple : Il y a deux fois (en D3 et E3) le même nom de variable. Il faudra distinguer ces deux variables en leur donnant deux noms distincts. On peut par contre numéroter les variables qui se rapportent à la même chose. Si pour un même sujet, vous faites des mesures répétées, c’est-à-dire des mesures à différentes périodes ou sur différents organes ou en différents endroits d’un même organe, utilisez une colonne par période ou organe ou endroit) avec, dans le nom de la variable, un numéro ou une lettre correspondant à la période ou à la localisation de la mesure. En mettant le numéro de la période concernée à la fin du nom de la variable, la mesure et son numéro sont clairement identifiés. Exemple : Temps_1, Temps_2, Temps_3, ou plutôt Tps1, Tps2, Tps3, ou encore PBHA, PBHB, etc. Ne mettez pas de commentaires dans vos noms de variables, ni d’indications superflues dans les données. Exemple : dans l’écran , la case C3 contient un commentaire après le nom de la variable. Ce commentaire est à enlever. De même, le commentaire de la cellule D13 doit être supprimé (après vérification de la valeur en question...). Vous pouvez par contre utiliser la fonction insérer un commentaire d’Excel pour apporter des précisions, tel qu’un libellé extensif pour un nom de variable un peu complexe. Il est très souhaitable que vous rajoutiez dans votre tableur une feuille donnant la correspondance entre le nom de la variable réduit à moins de 11 caractère et son libellé étendu afin de faciliter la lecture des données au cours de l’analyse. Vous indiquerez par exemple que la variable THS1 correspond à Mesure de la THS par la méthode N°1. 8.12.3 Codage des modalités Il existe deux grands types de données : les données qualitatives et les données quantitatives. Les données quantitatives correspondent à des mesures ou a des quantités, telles que le poids, la taille, une dimension, le résultat d’un dosage, un nombre de cigarettes, de journées, etc. Les données qualitatives correspondent à des données qui évaluent un caractère (grand, petit) ou une qualité (couleur, classe thérapeutique, présence/absence, oui/non etc….). Elles contiennent un nombre variable de modalités. Par exemple, le sexe est une variable qualitative à deux modalités alors que l’aspect du LCR à la PL, lui, peut prendre plusieurs modalités (clair, hématique, trouble, etc). Ces modalités seront donc codées par du texte, généralement l’intitulé en clair de la modalité : homme, femme, clair, hématique, etc... Certains logiciels de statistique ou certaines fonctions de certains logiciels n’acceptent de lire que des chiffres et il faut alors recoder toutes les modalités de la variable qualitative par des valeurs numériques arbitraires. Exemple : oui \\(\\rightarrow\\) 1, non\\(\\rightarrow\\) 0 ; homme \\(\\rightarrow\\)1, femme \\(\\rightarrow\\) 2 etc. Bien sûr, tout autre codage serait acceptable puisque le chiffre n’indique pas ici une quantité mais le codage type \\(0/1\\) est le plus pratique. Il est donc fortement conseillé de l’utiliser en priorité. Dans l’idéal, faite directement deux variables redondantes : l’une avec un codage en texte et l’autre avec un codage numérique. Vous pouvez distinguer ces deux variantes en rajoutant par exemple T et N à la fin du nom de la variable. Les logiciels acceptent parfois de prendre des modalités sous forme de texte. Dans ce cas, il est alors impératif que toutes les occurrences d’une même modalité soient écrites exactement de la même façon. Exemple : Dans la colonne B de l’écran , la modalité femme est codée de deux façons différentes. Il faut alors les remplacer par un seul codage, F par exemple. De même, les traitements de la colonne G ne sont pas uniformisés. Il est plus simple de ne mettre que A et B. La notion de dose sera mise dans une colonne à part nommée Dose. S’il faut indiquer deux traitements dont l’un est attribué à deux doses différentes, une bonne solution consiste à créer une variable traitement à trois modalités: A1, A2 et B. Faites également attention aux majuscules et aux minuscules dans les noms : dans certains cas Homme et homme seront considérées comme étant des occurrences différentes, les logiciels de statistique étant parfois sensibles à la casse. Il faudra donc toujours écrire les mêmes modalités de la même manière. De même, vérifiez qu’il n’y ait pas de signes inutiles comme des points, des virgules, des apostrophes, etc, signes que l’on retrouve souvent à la fin d’une modalité. Faites un double codage, textuel et numérique, pour toutes les variables qualitatives ce qui peut s’avérer utile pour certaines procédures statistiques, la gestion interne des données variant d’un logiciel à l’autre. Puisque les variables qualitatives permettent de définir l’appartenance à un groupe, cette appartenance doit être identifiée par une variable de groupe, les sujets étant codés par un chiffre, 1, 2, etc pour le groupe 1, le groupe 2, etc. Exemple : dans l’écran , dans la variable Sexe, les items Hommes, Femmes et F, seront remplacés par des 1 et des 2 ou des 0 et des 1. S’il y a plusieurs variables de groupes c.à.d. si vous classez vos sujets suivant plusieurs critères, faites autant de variables de groupe que de critères : une variable pour le sexe (hommes, femmes), une variable pour la sévèrité (sévère, modéré, bénin), une variable pour les catégories d’âge (jeune, âgé). Ne combinez pas les groupes en une seule variable ayant des modalités composites (homme jeune sévère, homme âgé bénin...). Exemple : vous analysez des patients que vous avez groupé par sexe et type de traitements (2 et 3 modalités respectivement) : faites deux variables, l’une qui contient les codes 1 et 2 pour le sexe et l’autre qui contient les codes 1, 2 et 3 pour les traitements. Ne faites pas une variable sexetmt qui contiendrait 6 modalités, comme dans l’écran , cellules G10 à G13. Les modalités de traitement (A dose 1, A dose 2, prod.B) doivent être remplacées par deux variables codées chacune par des chiffres. En ce qui concerne les variables quantitatives, mettez le même nombre de décimales à tous les sujets. Le nombre de décimales attribuées à la mesure doit être pertinent par rapport à la précision souhaitée et par rapport aux habitudes dans le domaine. Enfin, pensez à ne pas les mélanger avec du texte. 8.12.4 Cas particulier des données de survie L’analyse des durées de survies supposent l’existence de plusieurs données : la durée de survie observée et la présence ou l’absence de l’évènement d’intérêt. La survie est ici entendue au sens large, c.-à-d. délai jusqu’à la survenue d’un évènement d’intérêt, qu’il s’agisse d’un décès ou non (une récidive, etc). Il faut donc prévoir une colonne pour indiquer si l’évènement est survenu (on choisira par exemple un codage en 1 = décès et 0 si vivant) et une colonne pour la durée de survie. Dans l’idéal, il faut également une colonne indiquant la date de début de suivi du sujet (en général la date de diagnostic ou la date d’opération) et une colonne indiquant la date des dernières nouvelles (DDN). Cette DDN contient soit la date de l’évènement s’il a eu lieu soit la date à laquelle on a chercher à recueillir l’évènement. Il ne vous reste plus qu’à calculer le délai entre la date de début de suivi et la date de dernières nouvelles pour obtenir la durée de survie. Cette durée sera exprimée dans l’unité la plus adaptée au contexte : jours, mois ou années. 8.12.5 Points divers Mettez toujours l’information la plus primitive. Ne mettez pas de données synthétiques : si l’on recueille l’âge, mettez l’âge (ou mieux : la date de naissance) et ne notez surtout pas d’emblée la classe d’âge à laquelle appartient la personne. En effet, à partir de la date de naissance, on peut trouver l’âge à n’importe quelle date ainsi que la classe d’âge, alors qu’à partir de la classe d’âge on ne peut pas retrouver l’âge exact et encore moins la date de naissance. Il en est de même pour des tailles de tumeurs dans un classement TNM ou pour un score clinique basé sur des classes/catégories. Notez la taille de la tumeur à partir de laquelle on peut définir le T. Pour un score clinique, mettez l’ensemble des composantes du score, lequel sera alors reconstruit, au mieux par vos soins, sur Excel le plus souvent. Vous pouvez omettre les composantes du score si vous êtes certain de ne pas vouloir les analyser en tant que telles. En ce qui concerne les dates, entrez-les en utilisant dans Excel le format suivant : jj/mm/aaaa. 8.13 Anonymat Evitez de laisser les noms des patients. Il est préférable que chaque sujet soit identifié par un numéro si possible. Ce numéro d’identification doit bien sûr se trouver également sur le fichier que vous conserverez chez vous afin de pouvoir retrouver rapidement les sujets, si des modifications s’avéraient nécessaires. 8.14 Autres situations Des cas particuliers peuvent subsister. Adressez vous alors directement à la personne qui réalisera le traitement des données. 8.15 Contrôle des données Le propriétaire de la base de données est responsable de son contenu. Le statisticien ne peut pas toujours suspecter qu’une donnée est erronée à la vue des résultats. La vérification du contenu de la base de données doit donc impérativement être réalisée avant que les analyses ne soient commencées, et ceci surtout si le statisticien est seul pour analyser vos données. Cette vérification est d’autant plus simple et rapide qu’elle est réalisée par l’investigateur ayant généré les données et qui est le plus à même de débusquer des erreurs dans la saisie. Le tableur Excel permet de réaliser rapidement ces vérifications. Pour cela, placer le curseur dans la première ligne du fichier formaté, contenant le nom des variables. Après avoir supprimé dans le fichier de données d’éventuelles lignes vides qui auraient échappé à votre vigilance, cliquez sur Données/Filtre/Filtre automatique. Une petite boîte ornée d’une flèche apparait alors dans chaque case contenant du texte. En cliquant sur cette flèche, apparait une liste contenant toutes les modalités présentes dans la colonne. En la parcourant, on peut vérifier l’absence de valeurs fausses ou mal saisies, de valeurs impossibles (comme des âges négatifs) ou en dehors des limites de l’étude (contrôle des critères d’inclusion/exclusion) ainsi que l’absence de modalités qui devrait être présentes. La réalisation de ces vérifications avant le début des analyses permet de gagner un temps précieux. En typographie, le mot espace est féminin.↩︎ "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
